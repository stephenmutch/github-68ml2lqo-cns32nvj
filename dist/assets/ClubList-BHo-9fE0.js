import{j as e}from"./ui-vendor-Cpg-DzmZ.js";import{r as s,R as t}from"./react-vendor-DWJgz7Ui.js";import{u as a,S as r,I as i,C as d,L as n}from"./index-HxzYCIgR.js";import{u as c}from"./useDebounce-Q5Dd_TAD.js";function o({selectedItems:o,onItemSelect:l}){const[m,u]=s.useState(""),x=c(m,300),{clubs:p,loading:h,error:f}=function(){const{request:e,loading:t,error:r}=a(),[i,d]=s.useState([]);s.useEffect((()=>{n()}),[]);const n=async()=>{const s=await e((e=>e.getClubs()));if(s){const e=Object.entries(s).map((([e,s])=>({...s,id:e})));d(e)}};return{clubs:i,loading:t,error:r,fetchClubs:n,getClub:async s=>await e((e=>e.getClub(s)))}}(),j=t.useMemo((()=>p.filter((e=>e.name.toLowerCase().includes(x.toLowerCase())||(e.description||"").toLowerCase().includes(x.toLowerCase())))),[p,x]);return h?e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading clubs..."})]}):f?e.jsxs("div",{className:"p-4 text-center text-red-600",children:[e.jsx("p",{children:"Failed to load clubs"}),e.jsx("p",{className:"text-sm mt-1",children:f.message})]}):e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),e.jsx(i,{className:"pl-10",placeholder:"Search clubs...",value:m,onChange:e=>u(e.target.value)})]}),e.jsxs("div",{className:"divide-y",children:[j.map((s=>e.jsxs("div",{className:"flex items-center gap-4 py-3",children:[e.jsx(d,{id:s.id,checked:o.includes(s.id),onCheckedChange:()=>l(s.id)}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:s.id,className:"font-medium",children:s.name}),s.description&&e.jsx("div",{className:"text-sm text-muted-foreground",children:s.description}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s.discount>0&&`${s.discount}% discount`,s.discount>0&&s.free_shipping&&" â€¢ ",s.free_shipping&&"Free shipping"]})]})]},s.id))),0===j.length&&e.jsx("div",{className:"py-4 text-center text-muted-foreground",children:"No clubs found"})]})]})}export{o as default};
