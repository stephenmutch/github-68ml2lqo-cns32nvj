import{j as e}from"./ui-vendor-Cpg-DzmZ.js";import{r as s,R as t}from"./react-vendor-DWJgz7Ui.js";import{u as r,S as a,I as o,C as i,L as d}from"./index-HxzYCIgR.js";import{u as n}from"./useDebounce-Q5Dd_TAD.js";function c({selectedItems:c,onItemSelect:l}){const[m,u]=t.useState(""),p=n(m,300),{groups:x,loading:h,error:g}=function(){const{request:e,loading:t,error:a}=r(),[o,i]=s.useState([]);s.useEffect((()=>{d()}),[]);const d=async()=>{const s=await e((e=>e.getGroups()));s&&i(s)};return{groups:o,loading:t,error:a,fetchGroups:d,getGroup:async s=>await e((e=>e.getGroup(s)))}}(),j=t.useMemo((()=>x.filter((e=>e.name.toLowerCase().includes(p.toLowerCase())||(e.description||"").toLowerCase().includes(p.toLowerCase())))),[x,p]);return h?e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading groups..."})]}):g?e.jsxs("div",{className:"p-4 text-center text-red-600",children:[e.jsx("p",{children:"Failed to load groups"}),e.jsx("p",{className:"text-sm mt-1",children:g.message})]}):e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),e.jsx(o,{className:"pl-10",placeholder:"Search groups...",value:m,onChange:e=>u(e.target.value)})]}),e.jsxs("div",{className:"divide-y",children:[j.map((s=>e.jsxs("div",{className:"flex items-center gap-4 py-3",children:[e.jsx(i,{id:s.id,checked:c.includes(s.id),onCheckedChange:()=>l(s.id)}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:s.id,className:"font-medium",children:s.name}),s.description&&e.jsx("div",{className:"text-sm text-muted-foreground",children:s.description}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s.checkout_cart_min>0&&`Min: ${s.checkout_cart_min} bottles`,s.discount>0&&` • ${s.discount}% discount`,s.free_shipping&&" • Free shipping"]})]})]},s.id))),0===j.length&&e.jsx("div",{className:"py-4 text-center text-muted-foreground",children:"No groups found"})]})]})}export{c as default};
